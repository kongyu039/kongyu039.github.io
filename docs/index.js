"use strict";function titleHandle(){LocalStorageUtil.setObj({title:document.title}),handleVisibilityChange(()=>{document.title=dbJson.leave_title},()=>{document.title=LocalStorageUtil.getItem("title")})}function welcomeRender(){document.querySelector("div.my-welcome").innerText=dbJson.welcome}function typewriterHandle(){let e=0,t=0,n=!0;setInterval(()=>{let r=dbJson.typewriter[e].length;n?(appendText("span.msg",dbJson.typewriter[e][t]),t++,t===r&&(n=!1)):(document.querySelector("span.msg").lastChild.remove(),t--,0===t&&(e=Math.floor(dbJson.typewriter.length*Math.random()),n=!0))},180)}function renderProjList(e){const t=document.querySelector(".case-proj-box");let n="";e.forEach(e=>{n+=`<div class="col-6 col-lg-3"><div style="background-image: url('${e.bgUrl?"./static/images/"+e.bgUrl:""}');"><h4>${e.title}</h4></div><div><span>${e.summary}</span><a href="${e.href||"#"}">${e.emoji}前往</a><label><i class="fa fa-arrow-circle-o-down"></i></label></div><div class="case-proj-desc">${e.desc}</div></div>`}),t.innerHTML=n}function renderOtherList(e){const t=document.querySelector(".other-features");let n="";e.forEach(e=>{const{title:t,desc:r,href:l}=e;n+=`<a href="${l}" title="${r}" class="features">${t}</a>`}),t.innerHTML=n}function listenArrow(){const e=document.querySelector(".case-proj-box");e.addEventListener("click",function(t){if(e.querySelectorAll(".case-proj-desc").forEach(e=>{e.removeAttribute("style")}),t.target.matches("i.fa")){t.target.parentElement.parentElement.nextElementSibling.style.display="block"}})}function timingHandle(){const e=document.querySelector("div.my-calendar>span:first-child"),t=document.querySelector("div.my-calendar>span:last-child");setInterval(function(){const n=(new Date).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",weekday:"long"}).replace(/\//g,"年").replace(/日/,"日 ").replace(/(.*?)(年.*?)(日.*?)(\s.*)/,"$1$2$3$4");e.innerText=(new Date).toLocaleTimeString("zh-CN"),t.innerText=n},1e3)}titleHandle(),welcomeRender(),typewriterHandle(),renderProjList(dbJson.proj_list),renderOtherList(dbJson.other_list),listenArrow(),timingHandle(),fragmentCarousel(document.querySelector(".banner-rebound"));