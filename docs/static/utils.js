function handleVisibilityChange(t=()=>{},e=()=>{}){document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?t():"visible"===document.visibilityState&&e()})}function makeSyncRequest(t,e=null){const a=new XMLHttpRequest;a.open("GET",t,!1);try{return a.send(e),200===a.status?a.responseText:null}catch(t){return null}}function appendText(t,e){const a=document.createTextNode(e);document.querySelector("span.msg").appendChild(a)}function fragmentCarousel(t){const e=t.querySelector(".container-img"),a=t.querySelector(".fragment-img"),o={images:[],fragmentConfig:{rows:4,cols:6,maxDisplacement:80,maxRotation:180,minScale:.3},transitionDuration:800};for(let t=1;t<=7;t++)o.images.push(`./static/images/proj-bg${t}.jpg`);let n,l=0,r=!1;function c(n){if(n===l||r)return;r=!0;const c=e.querySelectorAll("img"),s=c[l],i=c[n];!function(e,n){if(!e.complete)return void(n&&n());a.querySelectorAll(".fragment").forEach(t=>{t.remove()});const l=e.naturalHeight,r=e.naturalWidth,c=a.offsetHeight,s=a.offsetWidth,i=r/l;let m,g;i>s/c?(g=c,m=g*i):(m=s,g=m/i);const u=(m-s)/2,y=(g-c)/2,{cols:d,rows:f,maxDisplacement:h,maxRotation:p,minScale:S}=o.fragmentConfig,x=m/d,v=g/f;for(let t=0;t<f;t++)for(let o=0;o<d;o++){const n=document.createElement("div");n.className="fragment",n.style.left=o*x-u+"px",n.style.top=t*v-y+"px",n.style.width=`${x}px`,n.style.height=`${v}px`,n.style.backgroundImage=`url(${e.src})`,n.style.backgroundSize=`${m}px ${g}px`,n.style.backgroundPosition=`-${o*x}px -${t*v}px`,n.style.opacity="1",n.style.transform="translate(0,0) rotate(0) scale(1)",a.appendChild(n),setTimeout(()=>{const t=(Math.random()-.5)*h,e=(Math.random()-.5)*h,a=(Math.random()-.5)*p,o=Math.random()*(1-S)+S;n.style.transform=`translate(${t}px,${e}px) rotate(${a}deg) scale(${o})`,n.style.opacity="0"},30*(t*d+o))}const $=o.transitionDuration+f*d*30;setTimeout(()=>{t.querySelectorAll(".fragment").forEach(t=>{t.remove()}),n&&n()},$)}(s,()=>{s.classList.remove("active"),i.classList.add("active"),l=n,r=!1}),setTimeout(()=>{s.style.opacity="0",i.style.opacity="1",l=n},0)}o.images.forEach((t,a)=>{const o=document.createElement("img");o.className="slide "+(0===a?"active":""),o.dataset.index=a+"",o.src=t,o.alt="基础图片碎片化",e.appendChild(o)}),n=setInterval(()=>{r||c((l+1)%o.images.length)},3e3)}class LocalStorageUtil{static setObj(t){try{const e=Object.entries(t);for(const[t,a]of e)localStorage.setItem(t,JSON.stringify(a))}catch(t){}}static setItem(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(t){}}static getItem(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(t){return null}}static getKeys(){try{const t=[];for(let e=0;e<localStorage.length;e++)t.push(localStorage.key(e));return t}catch(t){return null}}static removeItem(t){try{localStorage.removeItem(t)}catch(t){}}static localStorageSize(){let t=0;const e=localStorage.length;for(let a=0;a<e;a++){const e=localStorage.key(a),o=localStorage.getItem(e);t+=e.length,t+=o.length}return t}static clear(){try{localStorage.clear()}catch(t){}}}